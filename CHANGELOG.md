# История изменений

Формат этого файла соответствует рекомендациям [Keep a Changelog](http://keepachangelog.com/en/1.0.0/).
Проект использует [семантическое версионирование](http://semver.org/spec/v2.0.0.html).

## Не выпущено

### Изменено

- `mysqldump.php` больше не использует консольную команду `mysqldump`.
- Цели `wordpress-install` теперь требуется переменная `ADMIN_PASSWORD`, содержащая пароль для
  создания пользователя dobrosite.
- Цель `db-dump` теперь делает дамп локальной БД, если переменная `REMOTE` не задана.

### Добавлено

- Цели `db-load` и `db-export` теперь могут загружать дампы по SSH.
- Цель `db-dump` теперь может работать по FTP.
- Функция `run-ftp`.


## 0.1.5 — 2017-10-04

### Исправлено

- Цель `build` в `Makefile.example` имела неправильные зависимости.
- При значениях переменной `COMPOSER_ROOT_DIR` отличных от значения по умолчанию, в файл
  `composer.json` записывались неправильные пути. 


## 0.1.4 — 2017-10-04

### Добавлено

- Добавлена цель `help`, выводящая список целей с описаниями.
- Добавлена установка цели по умолчанию `build`.


## 0.1.3 — 2017-10-03

### Исправлено

- Исправлена защита от повторного подключения файлов *.mk.

### Добавлено

- Файл `make/composer.mk` — работы с Composer.
- Файл `make/npm.mk` — работы с npm.
- Файл `make/wordpress.mk` — работы с Wordpress.
- Переменная `PUBLIC_DIR` — корневая папка сайта.
- Переменная `SITE_HOSTNAME` (common.mk) — доменное имя сайта.
- Переменная `SITE_TITLE` (common.mk) — название сайта.

### Изменено

- Цель `node_modules` перенесена в `npm.mk`.
- Цель `package.json` перенесена в `npm.mk`.
- Цель `package.json` теперь создаёт файл в случае его отсутствия, а не сообщает об ошибке.
- Цель `composer-install` перенесена в `composer.mk`.
- Цель `composer-update` перенесена в `composer.mk`.
- Переменная `COMPOSER_ROOT` переименована в `COMPOSER_ROOT_DIR` и перенесена в `composer.mk`.


## 0.1.2 — 2017-09-28

### Исправлено

- Исправлена цель `db-import`.

### Добавлено

- Переменная `TMPDIR`, если не установлена, устанавливается равной `/tmp`.
- Цель `composer-install` — установка зависимостей через Composer.  
- Цель `composer-update` — обновление зависимостей через Composer.  

### Изменено

- `db-import` создаёт временный файл в папке, задаваемой переменной `TMPDIR`.
- `db-import` сообщает о неустановленных переменных в начале работы.
- `$(jpegoptim)`, `$(sass)`, `$(optipng)` и `$(uglifyjs)` теперь зависят от `node_modules`, а не от
  `package.json`, что позволяет при их установке устанавливать и другие указанные в `package.json`
  пакеты. 

### Прочее

- Документация перенесена в папку `docs`.


## 0.1.1 — 2017-09-26

### Исправлено

- Не работали цели `$(sass)`, `$(optipng)` и `$(uglifyjs)`.


##[0.1.0 — 2017-09-25

Первая версия.
